This is just an example of containerization, but the code is quite working. If anyone wants to play around, they're welcome. Everything is based on Debian. I advise you to start it on a virtual machine.
git clone https://github.com/sh-serenity/jdec.git
First you need to create bridge br0 on the main machine, even if it is virtual, but it should not sit behind NAT, namely br0. All my guests are in the /guests folder, but again, you can change the path to the directory where they are in the hruck.sh script. The script requires debootstrap. Everything there is simple and easy to change. And so you write ./hruck.sh example1

Next is the assembly of the binary itself. No dependencies, except for the standard utilities in the build link: make all. Installation is not provided, because this is just a test version and works from the directory where it was compiled. If you want to plant a container behind NAT, then build NAT on the br0 interface. When everything is ready to run ./jdec /guests/example1 192.168.1.10 (or whatever address you want to assign to it) 255.255.255.0 (again, I don’t know your subnet mask) 192.168.1.1(router) &
I tested using ansible. In the directory ansible-playbooks/wordpress-lamp_ubuntu1804 there is a converted playbook for Debian. Accordingly, in hosts we write the address assigned to the container. Then install ssh container_adress apt-get install python3-minimal on the python3 container. Then ansible-playbook playbook.yml -i hosts. If everything went well, we get an empty WordPress on the container’s IP address.
In the root directory there are several scripts with which you can build a full-fledged ceph on three such containers. But this was done rather for the sake of pampering, but if you are brave and you have enough space on the screw to allocate volumes for them, then no one bothers you.
P.S. Ansible requires an Internet connection to work, so if you are testing this on a virtual machine, provide that as well.
P.P.S Free code
